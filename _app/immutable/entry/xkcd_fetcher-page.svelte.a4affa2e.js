import{S as X,i as $,s as w,k as v,a as I,q as C,J as S,l as D,h as s,c as k,m as A,r as y,n as E,C as u,b as d,D as F,o as T,K as b}from"../chunks/index.50458f76.js";class q{constructor(){this.comicImage="",this.comicTitle="",this.comicAlt="",this.comicDate=""}fetchComic(){return fetch("https://fwd.innopolis.app/api/hw2?email=y.kim@innopolis.university").then(e=>e.json()).then(e=>fetch(`https://getxkcd.vercel.app/api/comic?num=${e}`).then(i=>i.json()).then(i=>{this.comicImage=i.img,this.comicTitle=i.title,this.comicAlt=i.alt,this.comicDate=new Date(i.year,i.month-1,i.day).toLocaleDateString()}).catch(i=>console.error("Failed to fetch comic data from API:",i))).catch(e=>console.error("Failed to fetch comic ID from API:",e))}}function P(r){let e,i=r[1].comicTitle+"",l,m,a,h,t,o,n,p=r[1].comicDate+"",_;return{c(){e=v("h1"),l=C(i),m=I(),a=v("img"),t=I(),o=v("p"),n=C("Uploaded on "),_=C(p),this.h()},l(c){e=D(c,"H1",{});var f=A(e);l=y(f,i),f.forEach(s),m=k(c),a=D(c,"IMG",{src:!0,alt:!0}),t=k(c),o=D(c,"P",{});var K=A(o);n=y(K,"Uploaded on "),_=y(K,p),K.forEach(s),this.h()},h(){b(a.src,h=r[1].comicImage)||E(a,"src",h),E(a,"alt",r[1].comicAlt)},m(c,f){d(c,e,f),u(e,l),d(c,m,f),d(c,a,f),d(c,t,f),d(c,o,f),u(o,n),u(o,_)},p:F,d(c){c&&s(e),c&&s(m),c&&s(a),c&&s(t),c&&s(o)}}}function L(r){let e,i,l,m,a,h,t=r[0]&&P(r);return{c(){e=v("meta"),i=I(),l=v("div"),m=v("p"),a=C("Random XKCD comic (Note, it may take time to load.)"),h=I(),t&&t.c(),this.h()},l(o){const n=S("svelte-1mf649t",document.head);e=D(n,"META",{name:!0,content:!0}),n.forEach(s),i=k(o),l=D(o,"DIV",{});var p=A(l);m=D(p,"P",{});var _=A(m);a=y(_,"Random XKCD comic (Note, it may take time to load.)"),_.forEach(s),h=k(p),t&&t.l(p),p.forEach(s),this.h()},h(){document.title="XKCD Comic Fetcher",E(e,"name","description"),E(e,"content","Simple XKCD comic fetcher")},m(o,n){u(document.head,e),d(o,i,n),d(o,l,n),u(l,m),u(m,a),u(l,h),t&&t.m(l,null)},p(o,[n]){o[0]?t?t.p(o,n):(t=P(o),t.c(),t.m(l,null)):t&&(t.d(1),t=null)},i:F,o:F,d(o){s(e),o&&s(i),o&&s(l),t&&t.d()}}}function M(r,e,i){let l=new q;function m(){l.fetchComic().then(h=>{i(0,a=!0)}).catch(h=>{console.error("Failed to load comic:",h)})}let a=!1;return T(()=>{m(),console.error("Loaded Comic")}),[a,l]}class N extends X{constructor(e){super(),$(this,e,M,L,w,{})}}export{N as default};
