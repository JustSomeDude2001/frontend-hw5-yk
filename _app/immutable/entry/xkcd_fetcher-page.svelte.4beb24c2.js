import{S as T,i as q,s as L,k as p,a as y,e as w,J as M,l as u,h as s,c as k,n as I,C as d,b as n,D as P,o as N,q as D,m as F,r as v,K as j}from"../chunks/index.50458f76.js";class R{constructor(){this.comicImage="",this.comicTitle="",this.comicAlt="",this.comicDate=""}fetchComic(){return fetch("https://fwd.innopolis.app/api/hw2?email=y.kim@innopolis.university").then(i=>i.json()).then(i=>fetch(`https://getxkcd.vercel.app/api/comic?num=${i}`).then(o=>o.json()).then(o=>{this.comicImage=o.img,this.comicTitle=o.title,this.comicAlt=o.alt,this.comicDate=new Date(o.year,o.month-1,o.day).toLocaleDateString()}).catch(o=>console.error("Failed to fetch comic data from API:",o))).catch(i=>console.error("Failed to fetch comic ID from API:",i))}}function S(m){let i,o,a,e,c=m[1].comicTitle+"",l,_,f,X,C,h,A,$=m[1].comicDate+"",K;return{c(){i=p("p"),o=D("Random XKCD comic (Note, it may take time to load.)"),a=y(),e=p("h1"),l=D(c),_=y(),f=p("img"),C=y(),h=p("p"),A=D("Uploaded on "),K=D($),this.h()},l(t){i=u(t,"P",{});var r=F(i);o=v(r,"Random XKCD comic (Note, it may take time to load.)"),r.forEach(s),a=k(t),e=u(t,"H1",{});var b=F(e);l=v(b,c),b.forEach(s),_=k(t),f=u(t,"IMG",{src:!0,alt:!0}),C=k(t),h=u(t,"P",{});var E=F(h);A=v(E,"Uploaded on "),K=v(E,$),E.forEach(s),this.h()},h(){j(f.src,X=m[1].comicImage)||I(f,"src",X),I(f,"alt",m[1].comicAlt)},m(t,r){n(t,i,r),d(i,o),n(t,a,r),n(t,e,r),d(e,l),n(t,_,r),n(t,f,r),n(t,C,r),n(t,h,r),d(h,A),d(h,K)},p:P,d(t){t&&s(i),t&&s(a),t&&s(e),t&&s(_),t&&s(f),t&&s(C),t&&s(h)}}}function U(m){let i,o,a,e=m[0]&&S(m);return{c(){i=p("meta"),o=y(),e&&e.c(),a=w(),this.h()},l(c){const l=M("svelte-1mf649t",document.head);i=u(l,"META",{name:!0,content:!0}),l.forEach(s),o=k(c),e&&e.l(c),a=w(),this.h()},h(){document.title="XKCD Comic Fetcher",I(i,"name","description"),I(i,"content","Simple XKCD comic fetcher")},m(c,l){d(document.head,i),n(c,o,l),e&&e.m(c,l),n(c,a,l)},p(c,[l]){c[0]?e?e.p(c,l):(e=S(c),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},i:P,o:P,d(c){s(i),c&&s(o),e&&e.d(c),c&&s(a)}}}function G(m,i,o){let a=new R;function e(){a.fetchComic().then(l=>{o(0,c=!0)}).catch(l=>{console.error("Failed to load comic:",l)})}let c=!1;return N(()=>{e(),console.error("Loaded Comic")}),[c,a]}class J extends T{constructor(i){super(),q(this,i,G,U,L,{})}}export{J as default};
