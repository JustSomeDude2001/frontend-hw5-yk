import{S as K,i as P,s as S,k as p,a as k,e as b,J as T,l as u,h as a,c as A,n as _,C as d,b as h,D as F,o as q,q as y,m as w,r as I,K as L}from"../chunks/index.50458f76.js";class M{constructor(){this.comicImage="",this.comicTitle="",this.comicAlt="",this.comicDate=""}fetchComic(){return fetch("https://fwd.innopolis.app/api/hw2?email=y.kim@innopolis.university").then(c=>c.json()).then(c=>fetch(`https://getxkcd.vercel.app/api/comic?num=${c}`).then(i=>i.json()).then(i=>{this.comicImage=i.img,this.comicTitle=i.title,this.comicAlt=i.alt,this.comicDate=new Date(i.year,i.month-1,i.day).toLocaleDateString()}).catch(i=>console.error("Failed to fetch comic data from API:",i))).catch(c=>console.error("Failed to fetch comic ID from API:",c))}}function E(m){let c,i=m[1].comicTitle+"",s,t,e,l,f,n,C,$=m[1].comicDate+"",D;return{c(){c=p("h1"),s=y(i),t=k(),e=p("img"),f=k(),n=p("p"),C=y("Uploaded on "),D=y($),this.h()},l(o){c=u(o,"H1",{});var r=w(c);s=I(r,i),r.forEach(a),t=A(o),e=u(o,"IMG",{src:!0,alt:!0}),f=A(o),n=u(o,"P",{});var v=w(n);C=I(v,"Uploaded on "),D=I(v,$),v.forEach(a),this.h()},h(){L(e.src,l=m[1].comicImage)||_(e,"src",l),_(e,"alt",m[1].comicAlt)},m(o,r){h(o,c,r),d(c,s),h(o,t,r),h(o,e,r),h(o,f,r),h(o,n,r),d(n,C),d(n,D)},p:F,d(o){o&&a(c),o&&a(t),o&&a(e),o&&a(f),o&&a(n)}}}function X(m){let c,i,s,t=m[0]&&E(m);return{c(){c=p("meta"),i=k(),t&&t.c(),s=b(),this.h()},l(e){const l=T("svelte-1mf649t",document.head);c=u(l,"META",{name:!0,content:!0}),l.forEach(a),i=A(e),t&&t.l(e),s=b(),this.h()},h(){document.title="XKCD Comic Fetcher",_(c,"name","description"),_(c,"content","Simple XKCD comic fetcher")},m(e,l){d(document.head,c),h(e,i,l),t&&t.m(e,l),h(e,s,l)},p(e,[l]){e[0]?t?t.p(e,l):(t=E(e),t.c(),t.m(s.parentNode,s)):t&&(t.d(1),t=null)},i:F,o:F,d(e){a(c),e&&a(i),t&&t.d(e),e&&a(s)}}}function j(m,c,i){let s=new M;function t(){s.fetchComic().then(l=>{i(0,e=!0)}).catch(l=>{console.error("Failed to load comic:",l)})}let e=!1;return q(()=>{t(),console.error("Loaded Comic")}),[e,s]}class G extends K{constructor(c){super(),P(this,c,j,X,S,{})}}export{G as default};
